<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AJAX</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <script src="./scripts/jquery-3.3.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
</head>

<body>
    <table id="classe" class="table">
        <thead class="thead-dark">
            <tr>

                <th>nome</th>
                <th>Preço</th>
                <th>descrição</th>
                <th>botão</th>

            </tr>
        </thead>
        <tbody>
        </tbody>

    </table>
<function ></function>
</body>
<script>
    function criar() {
        $.ajax({
            url: 'https://talentosapipastel.herokuapp.com/pastel',
            type: 'get', //get, post, put, delete
            dataType: 'json',
            contentType: "application/json",
            crossDomain: true,
            //data: JSON.stringify(json),
        }).done(function (data) {
            alert("ate aqui foi")
            var test = $("#classe tbody")
            var but = $("#classe tbody button")
            for (var cont = 0; cont < data.length; cont++) {
                test.append("<tr>")
                test.append("<td>" + data[cont].nome + "</td>");
                test.append("<td>" + data[cont].preco + "</td>");
                test.append("<td>" + data[cont].descricao + "</td>");
                test.append("<td><button type='button' id='botao'onclick='Delete(" + data[cont].id + ")' class='btn btn-danger'>Salvar</button></td>");
                // test.append(
                // test.append("<td>")+ ;
            }
        }).fail(function (jqXHR, textStatus, error) {
            console.log("vish deu ruim")
        });
    }
    function Delete(num) {
        $.ajax({
            url: 'https://talentosapipastel.herokuapp.com/pastel/' + num,
            type: 'delete', //get, post, put, delete
            dataType: 'json',
            contentType: "application/json",
            crossDomain: true,

        }).done(function (data) {
            var test1 = $("#classe tbody")
            $("#classe tbody").html("")
            criar();
        }
        ).fail(function (jqXHR, textStatus, error) {

        });

    }
    criar();

</script>

</html>